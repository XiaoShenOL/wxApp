<nav-bar></nav-bar>
<view class="wrapper">
    <!-- 上部整个搜索框 -->
    <view class="weui-search-bar">
        <!-- 返回箭头按钮 -->
        <view class="weui-search-bar__cancel-btn" bindtap="back">
            <image class="return-pic" src="../../image/search_return.png" bindtap="cancel" />
        </view>
        <!-- 搜索栏 -->
        <view class="weui-search-bar__form">
            <view class="weui-search-bar__box">
                <input focus='true' type="text" class="weui-search-bar__input" placeholder="大家都在搜 " placeholder-style="color:#eaeaea" value='{{inputValue}}' bindinput="getSearchKey" bindblur="routeSearchResPage" bindconfirm="searchOver" />
                <!-- 点击×可以清空正在输入 -->
                <view class="weui-icon-clear">
                    <icon type="clear" size="14" color='black' bindtap="clearInput"></icon>
                </view>
            </view>
        </view>
        <!-- 跳转歌手分类界面 -->
        <view class="songer">
            <image class="songer-pic" src="../../image/search_songner.png" />
        </view>
    </view>
    <!-- 搜索历史 -->
    <!-- <view class="{{showView?'option':'header_view_hide'}}">
        <text class="title history">搜索历史</text>
        <icon type='clear' bindtap="clearHistory" class="title record" color="#DE655C"></icon>
        <view class="hot_key_box">
            <text class="hot_keys_box_item" wx:for="{{history}}" wx:key="" data-value='{{item}}' data-index="{{index}}" bindtap="fill_value">
                {{item}}
            </text>
        </view>
    </view> -->
    <!-- 搜索建议 -->
    <cover-view class="{{showSongResult?'search_suggest':'header_view_hide'}}">
        <cover-view wx:for="{{searchSuggest}}" wx:key="" class='search_result' data-value='{{item.keyword}} 'bindtap='fill_value'>
            <cover-image class="search-pic" src="../../image/search_search.png"></cover-image>
            <cover-view class="search_suggest_name">{{item.keyword}}</cover-view>
        </cover-view>
    </cover-view>
    <!-- 搜索结果 -->
    <view class='search_result_songs'>
        <view wx:for="{{searchResult}}" wx:key="index" class='search_result_song_item' data-id="{{item.id}}" bindtap='handlePlayAudio'>
            <view class='search_result_song_song_name'>{{item.name}}</view>
            <view class='search_result_song_song_art-album'>
                {{item.artists[0].name}} - {{item.album.name}}
            </view>
        </view>
    </view>
    <!-- 搜索历史 -->
    <view class="history">
        <view class="{{showView?'option':'header_view_hide'}}">
            <text class="history-name">历史记录</text>
            <image type='clear' bindtap="clearHistory" class="history-delete" src="../../image/search_del.png" />
        </view>
        <view class="allhistory">
            <view class="allhistorybox" wx:for="{{history}}" wx:key="" data-value='{{item}}' data-index="{{index}}" bindtap="fill_value">
                <text class="historyname">{{item}}</text>
            </view>
        </view>
    </view>
    <!-- 热搜榜 -->
    <view class="ranking">
        <text class="ranking-name">热搜榜</text>
    </view>
    <view class="rankingList">
        <view class="rankingList-box" wx:for="{{hots}}" wx:key="index">
            <view wx:if="{{index <= 2}}">
                <text class="rankingList-num" style="color:red">{{index+1}}</text>
                <view class="song">
                    <text class="rankigList-songname" style="color:black;font-weight:600" bindtap='fill_value'>
                        {{item.first}}
                    </text>
                    <block wx:for="{{detail}}" wx:key="index">
                        <text class="rankigList-hotsong" style="color:red">{{item.hot}}</text>
                    </block>
                </view>
            </view>
            <view wx:if="{{index > 2}}">
                <text class="rankingList-num">{{index+1}}</text>
                <view class="othersong">
                    <text class="rankigList-songname" bindtap='fill_value'>{{item.first}}</text>
                </view>
            </view>
        </view>
    </view>
</view>